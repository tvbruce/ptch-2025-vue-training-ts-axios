<template>
  <div class="typescript-vs-javascript">
    <!-- ç« ç¯€æ¨™é¡Œ -->
    <div class="section-header">
      <h2>TypeScript vs JavaScript æ·±åº¦å°æ¯”</h2>
      <p class="section-description">
        æ·±å…¥æ¯”è¼ƒ JavaScript èˆ‡ TypeScript çš„èªæ³•å·®ç•°å’Œä½¿ç”¨å ´æ™¯ï¼Œé€šéå¯¦éš›æ¡ˆä¾‹å±•ç¤º TypeScript å¸¶ä¾†çš„é–‹ç™¼æ•ˆç‡æå‡ã€‚
      </p>
    </div>

    <!-- æ ¸å¿ƒå·®ç•°å°æ¯” -->
    <div class="content-block">
      <h3>ğŸ” æ ¸å¿ƒå·®ç•°ç¸½è¦½</h3>
      <div class="comparison-grid">
        <div class="comparison-card">
          <h4>JavaScript</h4>
          <ul>
            <li>å‹•æ…‹å‹åˆ¥ç³»çµ±</li>
            <li>é‹è¡Œæ™‚éŒ¯èª¤æª¢æŸ¥</li>
            <li>éˆæ´»ä½†å®¹æ˜“å‡ºéŒ¯</li>
            <li>è¼ƒå°çš„å­¸ç¿’æ›²ç·š</li>
            <li>ç›´æ¥åœ¨ç€è¦½å™¨é‹è¡Œ</li>
          </ul>
        </div>
        <div class="comparison-card highlight">
          <h4>TypeScript</h4>
          <ul>
            <li>éœæ…‹å‹åˆ¥ç³»çµ±</li>
            <li>ç·¨è­¯æ™‚éŒ¯èª¤æª¢æŸ¥</li>
            <li>å®‰å…¨ä¸”å¯é æ¸¬</li>
            <li>ç¨é«˜çš„å­¸ç¿’æ›²ç·š</li>
            <li>éœ€è¦ç·¨è­¯ç‚º JavaScript</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- èªæ³•å·®ç•°å°æ¯” -->
    <div class="content-block">
      <h3>âš–ï¸ èªæ³•å·®ç•°å°æ¯”</h3>

      <div class="syntax-comparison">
        <h4>è®Šæ•¸å®£å‘Šèˆ‡å‹åˆ¥</h4>
        <div class="code-comparison">
          <div class="js-example">
            <h5>JavaScript</h5>
            <CodeBlock title="JavaScript è®Šæ•¸å®£å‘Š" :code="jsVariableCode" language="javascript"
              explanation="JavaScript è®Šæ•¸æ²’æœ‰å‹åˆ¥é™åˆ¶ï¼Œå®¹æ˜“å‡ºç¾é‹è¡Œæ™‚éŒ¯èª¤" />
          </div>
          <div class="ts-example">
            <h5>TypeScript</h5>
            <CodeBlock title="TypeScript è®Šæ•¸å®£å‘Š" :code="tsVariableCode" language="typescript"
              explanation="TypeScript æä¾›å‹åˆ¥å®‰å…¨ï¼Œåœ¨ç·¨è­¯æ™‚å°±èƒ½ç™¼ç¾éŒ¯èª¤" />
          </div>
        </div>
      </div>

      <div class="syntax-comparison">
        <h4>å‡½æ•¸å®šç¾©</h4>
        <div class="code-comparison">
          <div class="js-example">
            <h5>JavaScript</h5>
            <CodeBlock title="JavaScript å‡½æ•¸" :code="jsFunctionCode" language="javascript" explanation="åƒæ•¸å’Œè¿”å›å€¼å‹åˆ¥ä¸æ˜ç¢º" />
          </div>
          <div class="ts-example">
            <h5>TypeScript</h5>
            <CodeBlock title="TypeScript å‡½æ•¸" :code="tsFunctionCode" language="typescript" explanation="æ˜ç¢ºçš„åƒæ•¸å’Œè¿”å›å€¼å‹åˆ¥å®šç¾©" />
          </div>
        </div>
      </div>
    </div>

    <!-- å¯¦éš›æ¡ˆä¾‹ï¼šé‡æ§‹æ¼”ç¤º -->
    <div class="content-block">
      <h3>ğŸ”§ å¯¦éš›æ¡ˆä¾‹ï¼šJavaScript åˆ° TypeScript é‡æ§‹</h3>

      <div class="refactoring-demo">
        <div class="demo-tabs">
          <button v-for="demo in refactoringExamples" :key="demo.id" class="tab-button"
            :class="{ active: activeDemo === demo.id }" @click="activeDemo = demo.id">
            {{ demo.title }}
          </button>
        </div>

        <div class="demo-content">
          <div v-for="demo in refactoringExamples" :key="demo.id" v-show="activeDemo === demo.id">
            <div class="demo-description">
              <h4>{{ demo.title }}</h4>
              <p>{{ demo.description }}</p>
            </div>

            <div class="before-after">
              <div class="before">
                <h5>é‡æ§‹å‰ (JavaScript)</h5>
                <CodeBlock title="åŸå§‹ JavaScript ä»£ç¢¼" :code="demo.before.code" language="javascript"
                  :explanation="demo.before.explanation" />
                <div class="problems">
                  <h6>å­˜åœ¨çš„å•é¡Œï¼š</h6>
                  <ul>
                    <li v-for="problem in demo.before.problems" :key="problem">{{ problem }}</li>
                  </ul>
                </div>
              </div>

              <div class="after">
                <h5>é‡æ§‹å¾Œ (TypeScript)</h5>
                <CodeBlock title="é‡æ§‹çš„ TypeScript ä»£ç¢¼" :code="demo.after.code" language="typescript"
                  :explanation="demo.after.explanation" />
                <div class="benefits">
                  <h6>æ”¹å–„æ•ˆæœï¼š</h6>
                  <ul>
                    <li v-for="benefit in demo.after.benefits" :key="benefit">{{ benefit }}</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- é–‹ç™¼æ•ˆç‡æå‡å¯¦è­‰ -->
    <div class="content-block">
      <h3>ğŸ“ˆ é–‹ç™¼æ•ˆç‡æå‡å¯¦è­‰</h3>

      <div class="efficiency-metrics">
        <div class="metric-card">
          <div class="metric-number">40%</div>
          <div class="metric-label">æ¸›å°‘é‹è¡Œæ™‚éŒ¯èª¤</div>
        </div>
        <div class="metric-card">
          <div class="metric-number">60%</div>
          <div class="metric-label">æå‡ä»£ç¢¼å¯è®€æ€§</div>
        </div>
        <div class="metric-card">
          <div class="metric-number">30%</div>
          <div class="metric-label">ç¸®çŸ­èª¿è©¦æ™‚é–“</div>
        </div>
        <div class="metric-card">
          <div class="metric-number">50%</div>
          <div class="metric-label">é™ä½ç¶­è­·æˆæœ¬</div>
        </div>
      </div>
    </div>

    <!-- äº’å‹•ç·´ç¿’ -->
    <div class="content-block">
      <h3>ğŸ’» äº’å‹•ç·´ç¿’</h3>

      <div class="exercise-section">
        <h4>ç·´ç¿’ï¼šè­˜åˆ¥èˆ‡ä¿®å¾©å•é¡Œ</h4>
        <p>ä»¥ä¸‹æ˜¯ä¸€äº›å®¹æ˜“å‡ºéŒ¯çš„ JavaScript ä»£ç¢¼ï¼Œè«‹å˜—è©¦è­˜åˆ¥å•é¡Œä¸¦ç”¨ TypeScript é‡å¯«ï¼š</p>

        <div class="exercise-container">
          <div class="exercise-problem">
            <h5>å•é¡Œä»£ç¢¼ (JavaScript)</h5>
            <CodeBlock title="å®¹æ˜“å‡ºéŒ¯çš„ JavaScript ä»£ç¢¼" :code="exerciseCode" language="javascript"
              explanation="æ‰¾å‡ºé€™æ®µä»£ç¢¼å¯èƒ½å­˜åœ¨çš„å•é¡Œ" />
          </div>

          <div class="exercise-solution" v-if="showSolution">
            <h5>TypeScript è§£æ±ºæ–¹æ¡ˆ</h5>
            <CodeBlock title="å‹åˆ¥å®‰å…¨çš„ TypeScript ç‰ˆæœ¬" :code="solutionCode" language="typescript"
              explanation="ä½¿ç”¨ TypeScript å‹åˆ¥ç³»çµ±é¿å…å¸¸è¦‹éŒ¯èª¤" />
          </div>

          <button class="solution-btn" @click="showSolution = !showSolution">
            {{ showSolution ? 'éš±è—è§£ç­”' : 'æŸ¥çœ‹è§£ç­”' }}
          </button>
        </div>
      </div>
    </div>

    <!-- ä½¿ç”¨å ´æ™¯æŒ‡å— -->
    <div class="content-block">
      <h3>ğŸ¯ ä½¿ç”¨å ´æ™¯æŒ‡å—</h3>

      <div class="scenario-grid">
        <div class="scenario-card js-card">
          <h4>é¸æ“‡ JavaScript çš„å ´æ™¯</h4>
          <ul>
            <li>å¿«é€ŸåŸå‹é–‹ç™¼</li>
            <li>å°å‹é …ç›®æˆ–è…³æœ¬</li>
            <li>å­¸ç¿’å‰ç«¯é–‹ç™¼åŸºç¤</li>
            <li>ç¾æœ‰ JS é …ç›®ç¶­è­·</li>
            <li>ç°¡å–®çš„äº’å‹•åŠŸèƒ½</li>
          </ul>
        </div>

        <div class="scenario-card ts-card">
          <h4>é¸æ“‡ TypeScript çš„å ´æ™¯</h4>
          <ul>
            <li>å¤§å‹ä¼æ¥­æ‡‰ç”¨</li>
            <li>å¤šäººå”ä½œé …ç›®</li>
            <li>é•·æœŸç¶­è­·çš„ç³»çµ±</li>
            <li>API å®¢æˆ¶ç«¯é–‹ç™¼</li>
            <li>è¤‡é›œçš„æ¥­å‹™é‚è¼¯</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- ç« ç¯€ç¸½çµ -->
    <div class="content-block">
      <h3>ğŸ“ ç« ç¯€ç¸½çµ</h3>

      <div class="summary-section">
        <div class="key-points">
          <h4>é‡é»å›é¡§ï¼š</h4>
          <ul>
            <li>TypeScript æ˜¯ JavaScript çš„è¶…é›†ï¼Œæä¾›éœæ…‹å‹åˆ¥ç³»çµ±</li>
            <li>å‹åˆ¥å®‰å…¨èƒ½åœ¨ç·¨è­¯æ™‚ç™¼ç¾éŒ¯èª¤ï¼Œæå‡ä»£ç¢¼å“è³ª</li>
            <li>TypeScript ç‰¹åˆ¥é©åˆå¤§å‹é …ç›®å’Œåœ˜éšŠå”ä½œ</li>
            <li>å­¸ç¿’æˆæœ¬é©ä¸­ï¼Œå°æœ‰éœæ…‹å‹åˆ¥èªè¨€èƒŒæ™¯çš„é–‹ç™¼äººå“¡ä¾†èªªç›¸å°å®¹æ˜“</li>
            <li>ç¾ä»£å‰ç«¯é–‹ç™¼çš„è¶¨å‹¢å’Œæœ€ä½³å¯¦è¸</li>
          </ul>
        </div>

        <div class="next-steps">
          <h4>ä¸‹ä¸€æ­¥å­¸ç¿’ï¼š</h4>
          <p>
            åœ¨ä¸‹ä¸€ç« ç¯€ä¸­ï¼Œæˆ‘å€‘å°‡é‡å°æœ‰å…¶ä»–èªè¨€èƒŒæ™¯çš„é–‹ç™¼äººå“¡ï¼Œ
            æ·±å…¥æ¢è¨å¦‚ä½•å°‡éœæ…‹å‹åˆ¥èªè¨€çš„ç¶“é©—å’ŒçŸ¥è­˜è½‰ç§»åˆ° TypeScript é–‹ç™¼ä¸­ã€‚
          </p>
        </div>
      </div>
    </div>

    <!-- å°èˆªæŒ‰éˆ• -->
    <div class="navigation-footer">
      <button class="btn-complete" @click="completeSection">
        å®Œæˆæœ¬ç« ç¯€
      </button>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import CodeBlock from '@/components/common/CodeBlock.vue'

const emit = defineEmits<{
  complete: []
}>()

// ç•¶å‰æ´»å‹•çš„æ¼”ç¤º
const activeDemo = ref('api-client')
const showSolution = ref(false)

// JavaScript è®Šæ•¸å®£å‘Šç¤ºä¾‹
const jsVariableCode = `// JavaScript - æ²’æœ‰å‹åˆ¥é™åˆ¶
let userAge = "25";  // å­—ä¸²
userAge = userAge + 5;  // "255" - æ„å¤–çš„å­—ä¸²é€£æ¥ï¼

let users = [];
users.push({ name: "John" });
users.push("invalid data");  // æ··åˆå‹åˆ¥ï¼Œå®¹æ˜“å‡ºéŒ¯

// å‡½æ•¸åƒæ•¸æ²’æœ‰å‹åˆ¥ç´„æŸ
function calculateTax(income, rate) {
  return income * rate;  // å¦‚æœå‚³å…¥å­—ä¸²æœƒæ€æ¨£ï¼Ÿ
}`

// TypeScript è®Šæ•¸å®£å‘Šç¤ºä¾‹
const tsVariableCode = `// TypeScript - æ˜ç¢ºçš„å‹åˆ¥å®šç¾©
let userAge: number = 25;  // æ˜ç¢ºçš„æ•¸å­—å‹åˆ¥
userAge = userAge + 5;  // 30 - æ­£ç¢ºçš„æ•¸å­¸é‹ç®—

interface User {
  name: string;
  age?: number;
}

let users: User[] = [];
users.push({ name: "John" });
// users.push("invalid data");  // ç·¨è­¯éŒ¯èª¤ï¼å‹åˆ¥ä¸åŒ¹é…

// å‡½æ•¸åƒæ•¸å’Œè¿”å›å€¼éƒ½æœ‰å‹åˆ¥ç´„æŸ
function calculateTax(income: number, rate: number): number {
  return income * rate;  // å‹åˆ¥å®‰å…¨çš„è¨ˆç®—
}`

// JavaScript å‡½æ•¸ç¤ºä¾‹
const jsFunctionCode = `// JavaScript å‡½æ•¸
function processUser(userData) {
  // ä¸çŸ¥é“ userData çš„çµæ§‹
  return {
    id: userData.id,
    displayName: userData.firstName + " " + userData.lastName,
    email: userData.email.toLowerCase()  // å¦‚æœ email æ˜¯ undefined æœƒå ±éŒ¯
  };
}

// èª¿ç”¨æ™‚æ²’æœ‰å‹åˆ¥æª¢æŸ¥
const result = processUser({ name: "John" });  // ç¼ºå°‘å¿…è¦æ¬„ä½`

// TypeScript å‡½æ•¸ç¤ºä¾‹
const tsFunctionCode = `// TypeScript å‡½æ•¸
interface UserInput {
  id: number;
  firstName: string;
  lastName: string;
  email?: string;  // å¯é¸æ¬„ä½
}

interface ProcessedUser {
  id: number;
  displayName: string;
  email: string;
}

function processUser(userData: UserInput): ProcessedUser {
  return {
    id: userData.id,
    displayName: \`\${userData.firstName} \${userData.lastName}\`,
    email: userData.email?.toLowerCase() ?? 'no-email@example.com'
  };
}

// ç·¨è­¯æ™‚å‹åˆ¥æª¢æŸ¥
// const result = processUser({ name: "John" });  // ç·¨è­¯éŒ¯èª¤ï¼`

// é‡æ§‹æ¼”ç¤ºæ¡ˆä¾‹
const refactoringExamples = ref([
  {
    id: 'api-client',
    title: 'API å®¢æˆ¶ç«¯',
    description: 'å¾ JavaScript çš„ API èª¿ç”¨é‡æ§‹ç‚ºå‹åˆ¥å®‰å…¨çš„ TypeScript ç‰ˆæœ¬',
    before: {
      code: `// JavaScript API å®¢æˆ¶ç«¯
function fetchUserData(userId) {
  return fetch(\`/api/users/\${userId}\`)
    .then(response => response.json())
    .then(data => {
      // ä¸çŸ¥é“ data çš„çµæ§‹
      return {
        name: data.fullName,  // æ¬„ä½åç¨±å¯èƒ½éŒ¯èª¤
        email: data.emailAddress,
        status: data.isActive ? 'active' : 'inactive'
      };
    });
}

// ä½¿ç”¨æ™‚æ²’æœ‰è‡ªå‹•å®Œæˆå’Œå‹åˆ¥æª¢æŸ¥
fetchUserData("123").then(user => {
  console.log(user.nam);  // æ‹¼å¯«éŒ¯èª¤ä¸æœƒè¢«ç™¼ç¾
});`,
      explanation: 'ç¼ºä¹å‹åˆ¥å®šç¾©ï¼Œå®¹æ˜“å‡ºç¾æ¬„ä½åç¨±éŒ¯èª¤å’Œæ‹¼å¯«éŒ¯èª¤',
      problems: [
        'ä¸çŸ¥é“ API éŸ¿æ‡‰çš„è³‡æ–™çµæ§‹',
        'æ¬„ä½åç¨±å¯èƒ½éŒ¯èª¤ (fullName vs name)',
        'æ²’æœ‰è‡ªå‹•å®Œæˆå’Œ IntelliSense',
        'æ‹¼å¯«éŒ¯èª¤ä¸æœƒè¢«ç™¼ç¾',
        'é‡æ§‹æ™‚å®¹æ˜“éºæ¼æ›´æ–°'
      ]
    },
    after: {
      code: `// TypeScript API å®¢æˆ¶ç«¯
interface ApiUser {
  id: string;
  fullName: string;
  emailAddress: string;
  isActive: boolean;
}

interface ProcessedUser {
  name: string;
  email: string;
  status: 'active' | 'inactive';
}

async function fetchUserData(userId: string): Promise<ProcessedUser> {
  const response = await fetch(\`/api/users/\${userId}\`);
  const data: ApiUser = await response.json();

  return {
    name: data.fullName,  // å‹åˆ¥å®‰å…¨çš„æ¬„ä½å­˜å–
    email: data.emailAddress,
    status: data.isActive ? 'active' : 'inactive'
  };
}

// ä½¿ç”¨æ™‚æœ‰å®Œæ•´çš„å‹åˆ¥æ”¯æ´
fetchUserData("123").then(user => {
  console.log(user.name);  // è‡ªå‹•å®Œæˆå’Œå‹åˆ¥æª¢æŸ¥
  // console.log(user.nam);  // ç·¨è­¯éŒ¯èª¤ï¼
});`,
      explanation: 'é€éå‹åˆ¥å®šç¾©æä¾›å®Œæ•´çš„å‹åˆ¥å®‰å…¨å’Œé–‹ç™¼é«”é©—',
      benefits: [
        'æ˜ç¢ºçš„ API éŸ¿æ‡‰è³‡æ–™çµæ§‹',
        'ç·¨è­¯æ™‚å‹åˆ¥æª¢æŸ¥',
        'å®Œæ•´çš„è‡ªå‹•å®Œæˆæ”¯æ´',
        'é‡æ§‹æ™‚çš„å‹åˆ¥å®‰å…¨',
        'æ›´å¥½çš„ä»£ç¢¼å¯è®€æ€§'
      ]
    }
  },
  {
    id: 'event-handling',
    title: 'äº‹ä»¶è™•ç†',
    description: 'æ”¹å–„äº‹ä»¶è™•ç†çš„å‹åˆ¥å®‰å…¨æ€§',
    before: {
      code: `// JavaScript äº‹ä»¶è™•ç†
function handleFormSubmit(event) {
  event.preventDefault();

  const formData = new FormData(event.target);
  const userData = {
    name: formData.get('name'),
    age: formData.get('age'),
    email: formData.get('email')
  };

  // æ²’æœ‰é©—è­‰ï¼Œage å¯èƒ½æ˜¯å­—ä¸²
  if (userData.age > 18) {
    submitUser(userData);
  }
}

function submitUser(user) {
  // ä¸çŸ¥é“ user çš„å‹åˆ¥çµæ§‹
  fetch('/api/users', {
    method: 'POST',
    body: JSON.stringify(user)
  });
}`,
      explanation: 'ç¼ºä¹å‹åˆ¥é©—è­‰ï¼Œè¡¨å–®è³‡æ–™è™•ç†å®¹æ˜“å‡ºéŒ¯',
      problems: [
        'è¡¨å–®è³‡æ–™æ²’æœ‰å‹åˆ¥é©—è­‰',
        'age æ¬„ä½å¯èƒ½æ˜¯å­—ä¸²è€Œéæ•¸å­—',
        'äº‹ä»¶è™•ç†å‡½æ•¸åƒæ•¸å‹åˆ¥ä¸æ˜ç¢º',
        'æ²’æœ‰ç·¨è­¯æ™‚éŒ¯èª¤æª¢æŸ¥'
      ]
    },
    after: {
      code: `// TypeScript äº‹ä»¶è™•ç†
interface UserFormData {
  name: string;
  age: number;
  email: string;
}

function handleFormSubmit(event: Event): void {
  event.preventDefault();

  const form = event.target as HTMLFormElement;
  const formData = new FormData(form);

  const userData: UserFormData = {
    name: formData.get('name') as string,
    age: Number(formData.get('age')),  // æ˜ç¢ºè½‰æ›ç‚ºæ•¸å­—
    email: formData.get('email') as string
  };

  // å‹åˆ¥å®‰å…¨çš„æ¯”è¼ƒ
  if (userData.age > 18) {
    submitUser(userData);
  }
}

function submitUser(user: UserFormData): Promise<void> {
  return fetch('/api/users', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(user)
  }).then(response => {
    if (!response.ok) {
      throw new Error('Failed to submit user');
    }
  });
}`,
      explanation: 'å®Œæ•´çš„å‹åˆ¥å®šç¾©ç¢ºä¿è³‡æ–™è™•ç†çš„æ­£ç¢ºæ€§',
      benefits: [
        'æ˜ç¢ºçš„è¡¨å–®è³‡æ–™å‹åˆ¥',
        'å‹åˆ¥å®‰å…¨çš„è³‡æ–™è½‰æ›',
        'ç·¨è­¯æ™‚éŒ¯èª¤æª¢æŸ¥',
        'æ›´å¥½çš„ IDE æ”¯æ´'
      ]
    }
  }
])

// ç·´ç¿’ä»£ç¢¼
const exerciseCode = `// æ‰¾å‡ºé€™æ®µ JavaScript ä»£ç¢¼çš„å•é¡Œ
function calculateOrderTotal(items, discountRate, taxRate) {
  let total = 0;

  for (let item of items) {
    total += item.price * item.quantity;
  }

  total = total * (1 - discountRate);
  total = total * (1 + taxRate);

  return total.toFixed(2);
}

// èª¿ç”¨ç¯„ä¾‹
const order = calculateOrderTotal(
  [{ name: "Book", price: "29.99", quantity: 2 }],
  "0.1",
  0.08
);`

// è§£ç­”ä»£ç¢¼
const solutionCode = `// TypeScript è§£æ±ºæ–¹æ¡ˆ
interface OrderItem {
  name: string;
  price: number;  // ç¢ºä¿æ˜¯æ•¸å­—å‹åˆ¥
  quantity: number;
}

function calculateOrderTotal(
  items: OrderItem[],
  discountRate: number,  // 0-1 ä¹‹é–“çš„æ•¸å­—
  taxRate: number
): string {
  let total = 0;

  for (const item of items) {
    total += item.price * item.quantity;  // å‹åˆ¥å®‰å…¨çš„è¨ˆç®—
  }

  total = total * (1 - discountRate);
  total = total * (1 + taxRate);

  return total.toFixed(2);
}

// æ­£ç¢ºçš„èª¿ç”¨
const order = calculateOrderTotal(
  [{ name: "Book", price: 29.99, quantity: 2 }],  // price æ˜¯æ•¸å­—
  0.1,  // discountRate æ˜¯æ•¸å­—
  0.08
);`

function completeSection() {
  emit('complete')
}
</script>

<style scoped>
.typescript-vs-javascript {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
}

.section-header {
  text-align: center;
  margin-bottom: 3rem;
}

.section-header h2 {
  font-size: 2.5rem;
  color: #2d3748;
  margin-bottom: 1rem;
}

.section-description {
  font-size: 1.2rem;
  color: #4a5568;
  line-height: 1.6;
}

.content-block {
  margin-bottom: 4rem;
}

.content-block h3 {
  font-size: 1.8rem;
  color: #2d3748;
  margin-bottom: 2rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* æ¯”è¼ƒç¶²æ ¼ */
.comparison-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin-bottom: 2rem;
}

.comparison-card {
  padding: 2rem;
  border: 2px solid #e2e8f0;
  border-radius: 12px;
  background: #f7fafc;
}

.comparison-card.highlight {
  border-color: #4299e1;
  background: #ebf8ff;
}

.comparison-card h4 {
  font-size: 1.25rem;
  margin-bottom: 1rem;
  color: #2d3748;
}

.comparison-card ul {
  list-style: none;
  padding: 0;
}

.comparison-card li {
  padding: 0.5rem 0;
  border-bottom: 1px solid #e2e8f0;
}

.comparison-card li:last-child {
  border-bottom: none;
}

/* èªæ³•æ¯”è¼ƒ */
.syntax-comparison {
  margin-bottom: 3rem;
}

.syntax-comparison h4 {
  font-size: 1.3rem;
  margin-bottom: 1.5rem;
  color: #2d3748;
}

.code-comparison {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
}

.js-example,
.ts-example {
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  overflow: hidden;
}

.js-example h5,
.ts-example h5 {
  padding: 1rem;
  margin: 0;
  font-size: 1rem;
  font-weight: 600;
}

.js-example h5 {
  background: #fed7d7;
  color: #9b2c2c;
}

.ts-example h5 {
  background: #c6f6d5;
  color: #276749;
}

/* é‡æ§‹æ¼”ç¤º */
.refactoring-demo {
  border: 1px solid #e2e8f0;
  border-radius: 12px;
  overflow: hidden;
}

.demo-tabs {
  display: flex;
  background: #f7fafc;
  border-bottom: 1px solid #e2e8f0;
}

.tab-button {
  flex: 1;
  padding: 1rem;
  border: none;
  background: transparent;
  cursor: pointer;
  font-weight: 500;
  transition: all 0.3s;
}

.tab-button:hover {
  background: #edf2f7;
}

.tab-button.active {
  background: #4299e1;
  color: white;
}

.demo-content {
  padding: 2rem;
}

.demo-description h4 {
  margin-bottom: 0.5rem;
  color: #2d3748;
}

.demo-description p {
  margin-bottom: 2rem;
  color: #4a5568;
  line-height: 1.6;
}

.before-after {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
}

.before,
.after {
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  overflow: hidden;
}

.before h5 {
  background: #fed7d7;
  color: #9b2c2c;
  padding: 1rem;
  margin: 0;
}

.after h5 {
  background: #c6f6d5;
  color: #276749;
  padding: 1rem;
  margin: 0;
}

.problems,
.benefits {
  padding: 1rem;
  background: #f7fafc;
}

.problems h6 {
  color: #e53e3e;
  margin-bottom: 0.5rem;
}

.benefits h6 {
  color: #38a169;
  margin-bottom: 0.5rem;
}

.problems ul,
.benefits ul {
  margin: 0;
  padding-left: 1.5rem;
}

.problems li {
  color: #4a5568;
  margin-bottom: 0.25rem;
}

.benefits li {
  color: #4a5568;
  margin-bottom: 0.25rem;
}

/* æ•ˆç‡æŒ‡æ¨™ */
.efficiency-metrics {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 2rem;
  margin: 2rem 0;
}

.metric-card {
  text-align: center;
  padding: 2rem;
  border: 2px solid #e2e8f0;
  border-radius: 12px;
  background: #f7fafc;
  transition: transform 0.3s;
}

.metric-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.metric-number {
  font-size: 2.5rem;
  font-weight: 700;
  color: #4299e1;
  margin-bottom: 0.5rem;
}

.metric-label {
  font-size: 1rem;
  color: #4a5568;
  font-weight: 500;
}

/* ç·´ç¿’å€åŸŸ */
.exercise-section {
  background: #f7fafc;
  padding: 2rem;
  border-radius: 12px;
  border: 1px solid #e2e8f0;
}

.exercise-section h4 {
  margin-bottom: 1rem;
  color: #2d3748;
}

.exercise-container {
  margin-top: 2rem;
}

.exercise-problem {
  margin-bottom: 2rem;
}

.exercise-solution {
  margin-bottom: 2rem;
}

.solution-btn {
  padding: 0.75rem 1.5rem;
  background: #4299e1;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 500;
  transition: background 0.3s;
}

.solution-btn:hover {
  background: #3182ce;
}

/* ä½¿ç”¨å ´æ™¯ */
.scenario-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
}

.scenario-card {
  padding: 2rem;
  border-radius: 12px;
  border: 2px solid;
}

.js-card {
  border-color: #f6ad55;
  background: #fffaf0;
}

.ts-card {
  border-color: #4299e1;
  background: #ebf8ff;
}

.scenario-card h4 {
  margin-bottom: 1rem;
  color: #2d3748;
}

.scenario-card ul {
  list-style: none;
  padding: 0;
}

.scenario-card li {
  padding: 0.5rem 0;
  border-bottom: 1px solid #e2e8f0;
}

.scenario-card li:last-child {
  border-bottom: none;
}

/* ç¸½çµå€åŸŸ */
.summary-section {
  background: #f7fafc;
  padding: 2rem;
  border-radius: 12px;
  border: 1px solid #e2e8f0;
}

.key-points h4,
.next-steps h4 {
  margin-bottom: 1rem;
  color: #2d3748;
}

.key-points ul {
  margin-bottom: 2rem;
  padding-left: 1.5rem;
}

.key-points li {
  margin-bottom: 0.5rem;
  color: #4a5568;
  line-height: 1.6;
}

.next-steps p {
  color: #4a5568;
  line-height: 1.6;
}

/* å°èˆªæŒ‰éˆ• */
.navigation-footer {
  text-align: center;
  margin-top: 4rem;
  padding-top: 2rem;
  border-top: 1px solid #e2e8f0;
}

.btn-complete {
  padding: 1rem 2rem;
  background: #48bb78;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
}

.btn-complete:hover {
  background: #38a169;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(72, 187, 120, 0.3);
}

/* éŸ¿æ‡‰å¼è¨­è¨ˆ */
@media (max-width: 768px) {
  .typescript-vs-javascript {
    padding: 1rem;
  }

  .comparison-grid,
  .code-comparison,
  .before-after,
  .scenario-grid {
    grid-template-columns: 1fr;
  }

  .section-header h2 {
    font-size: 2rem;
  }

  .efficiency-metrics {
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  }
}
</style>