<template>
  <div class="section-content">
    <div class="section-header">
      <h2>Axios + TypeScript æœ€ä½³å¯¦è¸</h2>
      <p class="section-description">
        å­¸ç¿’å¦‚ä½•åœ¨ TypeScript å°ˆæ¡ˆä¸­ä½¿ç”¨ Axiosï¼Œå»ºç«‹å‹åˆ¥å®‰å…¨çš„ API å®¢æˆ¶ç«¯ï¼Œå¯¦ä½œæ””æˆªå™¨å’Œé€²éšéŒ¯èª¤è™•ç†ã€‚
        é‡é»å­¸ç¿’æª”æ¡ˆåˆ†é›¢æ¶æ§‹ï¼Œå‹åˆ¥å®šç¾©ã€æœå‹™é¡åˆ¥å’Œ Vue çµ„ä»¶çš„åˆ†é›¢ç®¡ç†ã€‚
      </p>
    </div>

    <!-- æª”æ¡ˆåˆ†é›¢æ¶æ§‹é‡è¦æ€§ -->
    <div class="content-block">
      <h3>ğŸ“ ç‚ºä»€éº¼è¦æª”æ¡ˆåˆ†é›¢ï¼Ÿ</h3>
      <div class="intro-card">
        <p>
          åœ¨å¯¦éš›å°ˆæ¡ˆé–‹ç™¼ä¸­ï¼Œå°‡å‹åˆ¥å®šç¾©ã€æœå‹™é¡åˆ¥å’Œ Vue çµ„ä»¶åˆ†é›¢åˆ°ä¸åŒæª”æ¡ˆæ˜¯éå¸¸é‡è¦çš„å¯¦è¸ã€‚
          é€™ä¸æ˜¯å­¸è¡“ç†è«–ï¼Œè€Œæ˜¯ç¢ºä¿å°ˆæ¡ˆå¯ç¶­è­·æ€§å’Œåœ˜éšŠå”ä½œæ•ˆç‡çš„é—œéµã€‚
        </p>

        <div class="benefits-grid">
          <div class="benefit-item">
            <div class="benefit-icon">ğŸ”„</div>
            <h4>ä»£ç¢¼é‡ç”¨</h4>
            <p>å‹åˆ¥å®šç¾©å¯åœ¨å¤šå€‹çµ„ä»¶é–“å…±äº«</p>
          </div>
          <div class="benefit-item">
            <div class="benefit-icon">ğŸ› ï¸</div>
            <h4>æ˜“æ–¼ç¶­è­·</h4>
            <p>ä¿®æ”¹å‹åˆ¥æ™‚è‡ªå‹•æª¢æŸ¥æ‰€æœ‰ä½¿ç”¨è™•</p>
          </div>
          <div class="benefit-item">
            <div class="benefit-icon">ğŸ‘¥</div>
            <h4>åœ˜éšŠå”ä½œ</h4>
            <p>æ¸…æ™°çš„å°ˆæ¡ˆçµæ§‹ä¾¿æ–¼å¤šäººé–‹ç™¼</p>
          </div>
          <div class="benefit-item">
            <div class="benefit-icon">âš¡</div>
            <h4>é–‹ç™¼æ•ˆç‡</h4>
            <p>IDE æä¾›å®Œæ•´çš„æ™ºèƒ½æç¤º</p>
          </div>
        </div>
      </div>
    </div>

    <!-- æª”æ¡ˆæ¶æ§‹å±•ç¤º -->
    <div class="content-block">
      <h3>ğŸ—ï¸ æª”æ¡ˆåˆ†é›¢æ¶æ§‹å±•ç¤º</h3>
      <div class="architecture-grid">
        <div class="arch-item">
          <div class="arch-icon">ğŸ“„</div>
          <h4>å‹åˆ¥å®šç¾©æª”æ¡ˆ</h4>
          <p>é›†ä¸­ç®¡ç†æ‰€æœ‰ä»‹é¢å’Œå‹åˆ¥</p>
          <code>src/types/user.ts</code>
        </div>
        <div class="arch-item">
          <div class="arch-icon">ğŸ—ï¸</div>
          <h4>åŸºç¤æœå‹™é¡åˆ¥</h4>
          <p>æä¾›æ³›å‹ CRUD æ“ä½œ</p>
          <code>src/services/base.service.ts</code>
        </div>
        <div class="arch-item">
          <div class="arch-icon">ğŸ‘¤</div>
          <h4>å…·é«”æœå‹™é¡åˆ¥</h4>
          <p>å¯¦é«”ç‰¹å®šçš„æ¥­å‹™é‚è¼¯</p>
          <code>src/services/user.service.ts</code>
        </div>
        <div class="arch-item">
          <div class="arch-icon">ğŸ¨</div>
          <h4>Vue çµ„ä»¶</h4>
          <p>UI é‚è¼¯å’Œä½¿ç”¨è€…äº’å‹•</p>
          <code>src/components/UserList.vue</code>
        </div>
      </div>
    </div>

    <!-- æ­¥é©Ÿ 1ï¼šå‹åˆ¥å®šç¾©æª”æ¡ˆ -->
    <div class="content-block">
      <h3>ğŸ“ æ­¥é©Ÿ 1ï¼šå»ºç«‹å‹åˆ¥å®šç¾©æª”æ¡ˆ</h3>

      <CodeBlock title="ç”¨æˆ¶å‹åˆ¥å®šç¾© (src/types/user.ts)" :code="userTypesCode" language="typescript"
        explanation="å°‡æ‰€æœ‰ç”¨æˆ¶ç›¸é—œçš„å‹åˆ¥å®šç¾©é›†ä¸­ç®¡ç†ï¼Œé€™å€‹æª”æ¡ˆå¯ä»¥è¢«å¤šå€‹çµ„ä»¶å’Œæœå‹™å°å…¥ä½¿ç”¨" :runnable="true" @run="runTypeDefinition" />
    </div>

    <!-- æ­¥é©Ÿ 2ï¼šåŸºç¤æœå‹™é¡åˆ¥ -->
    <div class="content-block">
      <h3>ğŸ› ï¸ æ­¥é©Ÿ 2ï¼šå»ºç«‹åŸºç¤æœå‹™é¡åˆ¥</h3>

      <CodeBlock title="æ³›å‹åŸºç¤æœå‹™ (src/services/base.service.ts)" :code="baseServiceCode" language="typescript"
        explanation="åŸºç¤æœå‹™é¡åˆ¥æä¾›æ³›å‹ CRUD æ“ä½œï¼Œå¯ä»¥è¢«å¤šå€‹å…·é«”æœå‹™ç¹¼æ‰¿ä½¿ç”¨" :runnable="true" @run="runBaseService" />
    </div>

    <!-- æ­¥é©Ÿ 3ï¼šå…·é«”æœå‹™é¡åˆ¥ -->
    <div class="content-block">
      <h3>ğŸ‘¤ æ­¥é©Ÿ 3ï¼šå»ºç«‹å…·é«”æœå‹™é¡åˆ¥</h3>

      <CodeBlock title="ç”¨æˆ¶æœå‹™é¡åˆ¥ (src/services/user.service.ts)" :code="userServiceCode" language="typescript"
        explanation="ç”¨æˆ¶æœå‹™ç¹¼æ‰¿åŸºç¤æœå‹™ï¼Œæ·»åŠ ç”¨æˆ¶ç‰¹å®šçš„æ¥­å‹™é‚è¼¯ï¼Œå°å…¥å‹åˆ¥å®šç¾©æª”æ¡ˆç¢ºä¿å‹åˆ¥å®‰å…¨" :runnable="true" @run="runUserService" />
    </div>

    <!-- æ­¥é©Ÿ 4ï¼šVue çµ„ä»¶ä¸­ä½¿ç”¨ -->
    <div class="content-block">
      <h3>ğŸ¨ æ­¥é©Ÿ 4ï¼šåœ¨ Vue çµ„ä»¶ä¸­ä½¿ç”¨</h3>

      <CodeBlock title="Vue çµ„ä»¶å¯¦ç¾ (src/components/UserManagement.vue)" :code="vueComponentCode" language="typescript"
        explanation="Vue çµ„ä»¶å°å…¥å‹åˆ¥å®šç¾©å’Œæœå‹™é¡åˆ¥ï¼Œå¯¦ç¾å®Œå…¨å‹åˆ¥å®‰å…¨çš„ UI é‚è¼¯" />
    </div>

    <!-- å¯¦éš›æ¼”ç¤ºå€åŸŸ -->
    <div class="content-block">
      <h3>ğŸ¯ æª”æ¡ˆåˆ†é›¢æ¶æ§‹å¯¦éš›æ¼”ç¤º</h3>

      <div class="demo-section">
        <p>ä»¥ä¸‹æ¼”ç¤ºå±•ç¤ºäº†æª”æ¡ˆåˆ†é›¢æ¶æ§‹çš„å¯¦éš›æ•ˆæœï¼š</p>

        <div class="demo-buttons">
          <button class="demo-btn" @click="testFileStructure" :disabled="loading">
            {{ loading && currentTest === 'structure' ? 'æ¸¬è©¦ä¸­...' : 'æ¸¬è©¦æª”æ¡ˆçµæ§‹' }}
          </button>
          <button class="demo-btn" @click="testTypeImports" :disabled="loading">
            {{ loading && currentTest === 'imports' ? 'æ¸¬è©¦ä¸­...' : 'æ¸¬è©¦å‹åˆ¥å°å…¥' }}
          </button>
          <button class="demo-btn" @click="testServiceUsage" :disabled="loading">
            {{ loading && currentTest === 'service' ? 'æ¸¬è©¦ä¸­...' : 'æ¸¬è©¦æœå‹™ä½¿ç”¨' }}
          </button>
        </div>

        <div v-if="demoResult" class="demo-result">
          <h5>åŸ·è¡Œçµæœï¼š</h5>
          <pre>{{ demoResult }}</pre>
        </div>
      </div>
    </div>

    <!-- æª”æ¡ˆåˆ†é›¢çš„å¥½è™•ç¸½çµ -->
    <div class="content-block">
      <h3>ğŸ’¡ æª”æ¡ˆåˆ†é›¢æ¶æ§‹çš„å¯¦éš›å¥½è™•</h3>

      <div class="benefits-comparison">
        <div class="comparison-item bad">
          <h4>âŒ å–®æª”æ¡ˆæ··äº‚å¯«æ³•</h4>
          <ul>
            <li>æ‰€æœ‰ç¨‹å¼ç¢¼æ“ åœ¨ä¸€å€‹æª”æ¡ˆ</li>
            <li>å‹åˆ¥å®šç¾©æ•£è½å„è™•</li>
            <li>é›£ä»¥é‡ç”¨å’Œç¶­è­·</li>
            <li>åœ˜éšŠå”ä½œå›°é›£</li>
            <li>IDE æ”¯æ´ä¸å®Œæ•´</li>
          </ul>
        </div>

        <div class="comparison-item good">
          <h4>âœ… æª”æ¡ˆåˆ†é›¢æ¶æ§‹</h4>
          <ul>
            <li>å‹åˆ¥å®šç¾©é›†ä¸­ç®¡ç†</li>
            <li>æœå‹™é‚è¼¯å¯é‡ç”¨</li>
            <li>çµ„ä»¶è·è²¬å–®ä¸€æ¸…æ™°</li>
            <li>ä¾¿æ–¼å–®å…ƒæ¸¬è©¦</li>
            <li>å®Œæ•´çš„ IDE æ™ºèƒ½æç¤º</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import CodeBlock from '@/components/common/CodeBlock.vue'
import { UserService } from '@/services/user.service'
import type { User } from '@/types/user'

// ç‹€æ…‹ç®¡ç†
const loading = ref(false)
const currentTest = ref('')
const demoResult = ref('')

// å¯¦ä¾‹åŒ–æœå‹™ï¼ˆæ¼”ç¤ºå¯¦éš›ä½¿ç”¨ï¼‰
const userService = new UserService()

// å‹åˆ¥å®šç¾©æª”æ¡ˆç¨‹å¼ç¢¼
const userTypesCode = `// ==========================================
// æª”æ¡ˆï¼šsrc/types/user.ts
// ==========================================
// ğŸ¯ é›†ä¸­ç®¡ç†æ‰€æœ‰ç”¨æˆ¶ç›¸é—œå‹åˆ¥å®šç¾©
// é€™å€‹æª”æ¡ˆå¯ä»¥è¢«å¤šå€‹çµ„ä»¶å’Œæœå‹™å°å…¥ä½¿ç”¨

export interface User {
  id: string;
  name: string;
  email: string;
  avatar?: string;
  role: 'admin' | 'user' | 'manager';
  department: string;
  joinDate: string;
  isActive: boolean;
  skills: string[];
  createdAt: string;
  updatedAt: string;
}

export interface CreateUserRequest {
  name: string;
  email: string;
  role?: 'user' | 'manager';
  department: string;
  skills?: string[];
}

export interface UpdateUserRequest {
  name?: string;
  email?: string;
  role?: 'admin' | 'user' | 'manager';
  department?: string;
  isActive?: boolean;
  skills?: string[];
}

export interface UserSearchParams {
  search?: string;
  role?: string;
  department?: string;
  isActive?: boolean;
  limit?: number;
  offset?: number;
}

export interface UserSearchResult {
  users: User[];
  total: number;
  hasMore: boolean;
}

export interface UserStats {
  totalUsers: number;
  activeUsers: number;
  usersByRole: Record<string, number>;
  usersByDepartment: Record<string, number>;
}

export interface UserValidationResult {
  isValid: boolean;
  errors: string[];
}

export interface EmailValidationResult {
  isValid: boolean;
  reason?: string;
}

// ğŸ¯ ç‚ºä»€éº¼è¦åˆ†é›¢å‹åˆ¥å®šç¾©ï¼Ÿ
// 1. é‡ç”¨æ€§ï¼šå¤šå€‹çµ„ä»¶å’Œæœå‹™å¯ä»¥å°å…¥åŒæ¨£çš„å‹åˆ¥
// 2. ç¶­è­·æ€§ï¼šä¿®æ”¹å‹åˆ¥æ™‚ï¼ŒTypeScript æœƒæª¢æŸ¥æ‰€æœ‰ä½¿ç”¨è™•
// 3. åœ˜éšŠå”ä½œï¼šå‹åˆ¥å®šç¾©æˆç‚ºå‰å¾Œç«¯æºé€šçš„å¥‘ç´„
// 4. IDE æ”¯æ´ï¼šå®Œæ•´çš„æ™ºèƒ½æç¤ºå’ŒéŒ¯èª¤æª¢æŸ¥`

// åŸºç¤æœå‹™é¡åˆ¥ç¨‹å¼ç¢¼
const baseServiceCode = `// ==========================================
// æª”æ¡ˆï¼šsrc/services/base.service.ts
// ==========================================
// ğŸ—ï¸ æ³›å‹åŸºç¤æœå‹™é¡åˆ¥ï¼Œæä¾›é€šç”¨çš„ CRUD æ“ä½œ
// å…¶ä»–å…·é«”æœå‹™å¯ä»¥ç¹¼æ‰¿é€™å€‹åŸºé¡

import axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios';
import type { ApiResponse } from '@/types/api';

export abstract class BaseApiService<T> {
  protected api: AxiosInstance;
  protected endpoint: string;

  constructor(endpoint: string) {
    this.endpoint = endpoint;
    this.api = axios.create({
      baseURL: 'http://localhost:3001',
      timeout: 10000,
      headers: {
        'Content-Type': 'application/json'
      }
    });

    this.setupInterceptors();
  }

  // ğŸ”§ è¨­ç½®æ””æˆªå™¨
  private setupInterceptors(): void {
    // è«‹æ±‚æ””æˆªå™¨
    this.api.interceptors.request.use(
      (config) => {
        console.log(\`ğŸ“¤ ç™¼é€è«‹æ±‚: \${config.method?.toUpperCase()} \${config.url}\`);
        return config;
      },
      (error) => {
        console.error('âŒ è«‹æ±‚éŒ¯èª¤:', error);
        return Promise.reject(error);
      }
    );

    // éŸ¿æ‡‰æ””æˆªå™¨
    this.api.interceptors.response.use(
      (response: AxiosResponse) => {
        console.log(\`ğŸ“¥ æ”¶åˆ°éŸ¿æ‡‰: \${response.status} \${response.config.url}\`);
        return response;
      },
      (error) => {
        console.error('âŒ éŸ¿æ‡‰éŒ¯èª¤:', error);
        return Promise.reject(error);
      }
    );
  }

  // ğŸ” ç²å–æ‰€æœ‰è³‡æº
  async getAll(): Promise<T[]> {
    const response = await this.api.get<T[]>(this.endpoint);
    return response.data;
  }

  // ğŸ” æ ¹æ“š ID ç²å–å–®å€‹è³‡æº
  async getById(id: string): Promise<T> {
    const response = await this.api.get<T>(\`\${this.endpoint}/\${id}\`);
    return response.data;
  }

  // â• å‰µå»ºæ–°è³‡æº
  async create<U>(data: U): Promise<T> {
    const response = await this.api.post<T>(this.endpoint, data);
    return response.data;
  }

  // âœï¸ æ›´æ–°è³‡æº
  async update<U>(id: string, data: U): Promise<T> {
    const response = await this.api.put<T>(\`\${this.endpoint}/\${id}\`, data);
    return response.data;
  }

  // ğŸ”§ éƒ¨åˆ†æ›´æ–°è³‡æº
  async patch<U>(id: string, data: Partial<U>): Promise<T> {
    const response = await this.api.patch<T>(\`\${this.endpoint}/\${id}\`, data);
    return response.data;
  }

  // ğŸ—‘ï¸ åˆªé™¤è³‡æº
  async delete(id: string): Promise<void> {
    await this.api.delete(\`\${this.endpoint}/\${id}\`);
  }

  // ğŸ”§ è‡ªå®šç¾©è«‹æ±‚
  protected async request<U>(config: AxiosRequestConfig): Promise<U> {
    const response = await this.api.request<U>(config);
    return response.data;
  }
}

// ğŸ¯ ç‚ºä»€éº¼è¦æœ‰åŸºç¤æœå‹™é¡åˆ¥ï¼Ÿ
// 1. ä»£ç¢¼é‡ç”¨ï¼šæ‰€æœ‰æœå‹™éƒ½éœ€è¦çš„ CRUD æ“ä½œ
// 2. ä¸€è‡´æ€§ï¼šçµ±ä¸€çš„éŒ¯èª¤è™•ç†å’Œæ””æˆªå™¨
// 3. å‹åˆ¥å®‰å…¨ï¼šæ³›å‹ç¢ºä¿æ¯å€‹æœå‹™çš„å‹åˆ¥æ­£ç¢º
// 4. æ“´å±•æ€§ï¼šå…·é«”æœå‹™å¯ä»¥æ·»åŠ ç‰¹å®šçš„æ¥­å‹™é‚è¼¯`

// ç”¨æˆ¶æœå‹™é¡åˆ¥ç¨‹å¼ç¢¼
const userServiceCode = `// ==========================================
// æª”æ¡ˆï¼šsrc/services/user.service.ts
// ==========================================
// ğŸ‘¤ ç”¨æˆ¶æœå‹™é¡åˆ¥ï¼Œç¹¼æ‰¿åŸºç¤æœå‹™ä¸¦æ·»åŠ ç”¨æˆ¶ç‰¹å®šåŠŸèƒ½
// å°å…¥å‹åˆ¥å®šç¾©ï¼Œç¢ºä¿å®Œå…¨çš„å‹åˆ¥å®‰å…¨

import { BaseApiService } from './base.service';
import type {
  User,
  CreateUserRequest,
  UpdateUserRequest,
  UserSearchParams,
  UserSearchResult,
  UserStats,
  UserValidationResult
} from '@/types/user';

export class UserService extends BaseApiService<User> {
  constructor() {
    // ğŸ—ï¸ èª¿ç”¨çˆ¶é¡æ§‹é€ å‡½æ•¸ï¼Œè¨­ç½®ç«¯é»
    super('/users');
  }

  // ğŸ” æœå°‹ç”¨æˆ¶ï¼ˆç”¨æˆ¶ç‰¹å®šåŠŸèƒ½ï¼‰
  async searchUsers(params: UserSearchParams): Promise<User[]> {
    const queryParams = new URLSearchParams();

    if (params.search) {
      queryParams.append('q', params.search);
    }
    if (params.role) {
      queryParams.append('role', params.role);
    }
    if (params.department) {
      queryParams.append('department', params.department);
    }
    if (params.isActive !== undefined) {
      queryParams.append('isActive', params.isActive.toString());
    }

    const response = await this.api.get<User[]>(\`\${this.endpoint}?\${queryParams.toString()}\`);
    return response.data;
  }

  // æŒ‰éƒ¨é–€ç²å–ç”¨æˆ¶
  async getUsersByDepartment(department: string): Promise<User[]> {
    const allUsers = await this.getAll();
    return allUsers.filter(user => user.department === department);
  }

  // æŒ‰è§’è‰²ç²å–ç”¨æˆ¶
  async getUsersByRole(role: string): Promise<User[]> {
    const allUsers = await this.getAll();
    return allUsers.filter(user => user.role === role);
  }

  // é©—è­‰ç”¨æˆ¶è³‡æ–™
  validateUser(userData: CreateUserRequest): UserValidationResult {
    const errors: string[] = [];

    if (!userData.name || userData.name.trim().length < 2) {
      errors.push('ç”¨æˆ¶åç¨±è‡³å°‘éœ€è¦ 2 å€‹å­—ç¬¦');
    }

    if (!userData.email || !this.validateEmail(userData.email).isValid) {
      errors.push('è«‹æä¾›æœ‰æ•ˆçš„é›»å­éƒµä»¶åœ°å€');
    }

    if (!userData.department || userData.department.trim().length === 0) {
      errors.push('éƒ¨é–€ä¸èƒ½ç‚ºç©º');
    }

    return {
      isValid: errors.length === 0,
      errors
    };
  }

  // é©—è­‰éƒµç®±æ ¼å¼
  validateEmail(email: string): { isValid: boolean; reason?: string } {
    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;
    return {
      isValid: emailRegex.test(email),
      reason: emailRegex.test(email) ? undefined : 'éƒµç®±æ ¼å¼ä¸æ­£ç¢º'
    };
  }

  // å¸¶é©—è­‰çš„å‰µå»ºç”¨æˆ¶
  async createUserWithValidation(userData: CreateUserRequest): Promise<User> {
    // ä½¿ç”¨å‹åˆ¥å®‰å…¨çš„é©—è­‰
    const validation = this.validateUser(userData);
    if (!validation.isValid) {
      throw new Error(\`é©—è­‰å¤±æ•—ï¼š\${validation.errors.join(', ')}\`);
    }

    // èª¿ç”¨åŸºé¡çš„ create æ–¹æ³•
    return this.create(userData);
  }

  // ç²å–ç”¨æˆ¶çµ±è¨ˆè³‡æ–™
  async getUserStats(): Promise<UserStats> {
    const allUsers = await this.getAll();
    const activeUsers = allUsers.filter(user => user.isActive);

    const usersByRole = allUsers.reduce((acc, user) => {
      acc[user.role] = (acc[user.role] || 0) + 1;
      return acc;
    }, {} as Record<string, number>);

    const usersByDepartment = allUsers.reduce((acc, user) => {
      acc[user.department] = (acc[user.department] || 0) + 1;
      return acc;
    }, {} as Record<string, number>);

    return {
      totalUsers: allUsers.length,
      activeUsers: activeUsers.length,
      usersByRole,
      usersByDepartment
    };
  }
}`

// Vue çµ„ä»¶ç¨‹å¼ç¢¼
const vueComponentCode = `// ==========================================
// æª”æ¡ˆï¼šsrc/components/UserManagement.vue
// ==========================================
<template>
  <div class="user-management">
    <h2>ç”¨æˆ¶ç®¡ç†</h2>

    <!-- æœå°‹å€åŸŸ -->
    <div class="search-section">
      <input
        v-model="searchQuery"
        placeholder="æœå°‹ç”¨æˆ¶..."
        @input="handleSearch"
      />
    </div>

    <!-- ç”¨æˆ¶åˆ—è¡¨ -->
    <div v-if="loading" class="loading">è¼‰å…¥ä¸­...</div>
    <div v-else class="user-list">
      <div v-for="user in users" :key="user.id" class="user-card">
        <h3>{{ user.name }}</h3>
        <p>{{ user.email }} - {{ user.department }}</p>
        <span class="role-badge">{{ user.role }}</span>
      </div>
    </div>

    <!-- çµ±è¨ˆè³‡æ–™ -->
    <div v-if="stats" class="stats-section">
      <h3>çµ±è¨ˆè³‡æ–™</h3>
      <p>ç¸½ç”¨æˆ¶ï¼š{{ stats.total }}</p>
      <p>æ´»èºç”¨æˆ¶ï¼š{{ stats.active }}</p>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue'

// ğŸ”— å¾å‹åˆ¥æª”æ¡ˆå°å…¥ä»‹é¢å®šç¾©
import type {
  User,
  CreateUserRequest,
  UserStats
} from '@/types/user'

// ğŸ”— å¾æœå‹™æª”æ¡ˆå°å…¥æœå‹™é¡åˆ¥
import { UserService } from '@/services/user.service'

// ğŸ—ï¸ å»ºç«‹æœå‹™å¯¦ä¾‹ - å‹åˆ¥å®‰å…¨
const userService = new UserService()

// ğŸ“Š éŸ¿æ‡‰å¼ç‹€æ…‹ - ä½¿ç”¨å°å…¥çš„å‹åˆ¥
const users = ref<User[]>([])
const loading = ref(false)
const searchQuery = ref('')
const stats = ref<UserStats | null>(null)

// ğŸ“‹ è¼‰å…¥ç”¨æˆ¶åˆ—è¡¨ - å‹åˆ¥å®‰å…¨çš„æ–¹æ³•
async function loadUsers() {
  loading.value = true
  try {
    // userService.getAll() è‡ªå‹•æ¨å°ç‚º Promise<User[]>
    users.value = await userService.getAll()
    console.log('è¼‰å…¥ç”¨æˆ¶æˆåŠŸ:', users.value.length)
  } catch (error) {
    console.error('è¼‰å…¥ç”¨æˆ¶å¤±æ•—:', error)
  } finally {
    loading.value = false
  }
}

// ğŸ” æœå°‹ç”¨æˆ¶
async function handleSearch() {
  if (!searchQuery.value.trim()) {
    await loadUsers()
    return
  }

  try {
    // ä½¿ç”¨æœå‹™é¡åˆ¥çš„æœå°‹æ–¹æ³•
    users.value = await userService.searchUsers({
      search: searchQuery.value
    })
  } catch (error) {
    console.error('æœå°‹ç”¨æˆ¶å¤±æ•—:', error)
  }
}

// â• å‰µå»ºæ–°ç”¨æˆ¶ - å‹åˆ¥å®‰å…¨
async function createUser(userData: CreateUserRequest) {
  try {
    // userService.createUserWithValidation() è‡ªå‹•æ¨å°ç‚º Promise<User>
    const newUser = await userService.createUserWithValidation(userData)
    users.value.push(newUser)
    console.log('å‰µå»ºç”¨æˆ¶æˆåŠŸ:', newUser)
  } catch (error) {
    console.error('å‰µå»ºç”¨æˆ¶å¤±æ•—:', error)
  }
}

// ğŸ“Š è¼‰å…¥çµ±è¨ˆè³‡æ–™
async function loadStats() {
  try {
    stats.value = await userService.getUserStats()
  } catch (error) {
    console.error('è¼‰å…¥çµ±è¨ˆå¤±æ•—:', error)
  }
}

// ğŸš€ çµ„ä»¶æ›è¼‰æ™‚åŸ·è¡Œ
onMounted(async () => {
  await Promise.all([loadUsers(), loadStats()])
})
&lt;/script&gt;`;

// æ¼”ç¤ºæ–¹æ³•
const runTypeDefinition = async () => {
  demoResult.value = 'æ­£åœ¨æ¼”ç¤ºå‹åˆ¥å®šç¾©æª”æ¡ˆçš„ä½¿ç”¨...'

  try {
    console.log('ğŸ“ å±•ç¤ºå‹åˆ¥å®šç¾©æª”æ¡ˆæ¶æ§‹')

    // æ¸¬è©¦å‹åˆ¥å®‰å…¨
    const testUser: User = {
      id: '999',
      name: 'æ¸¬è©¦ç”¨æˆ¶',
      email: 'test@example.com',
      role: 'user',
      department: 'é–‹ç™¼éƒ¨',
      joinDate: '2024-01-01',
      isActive: true,
      skills: ['TypeScript', 'Vue.js'],
      createdAt: new Date().toISOString(),
      updatedAt: new Date().toISOString()
    }

    console.log('âœ… å‹åˆ¥å®‰å…¨çš„ç”¨æˆ¶ç‰©ä»¶:', testUser)

    demoResult.value = `âœ… å‹åˆ¥å®šç¾©æª”æ¡ˆæ¼”ç¤ºå®Œæˆï¼

ğŸ¯ æª”æ¡ˆåˆ†é›¢çš„æ ¸å¿ƒå„ªå‹¢ï¼š

ğŸ“ å°ˆæ¡ˆçµæ§‹ï¼š
src/
â”œâ”€â”€ types/
â”‚   â””â”€â”€ user.ts          # ğŸ‘ˆ å‹åˆ¥å®šç¾©é›†ä¸­é€™è£¡
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ base.service.ts  # ğŸ‘ˆ åŸºç¤æœå‹™é¡åˆ¥
â”‚   â””â”€â”€ user.service.ts  # ğŸ‘ˆ å…·é«”æœå‹™å¯¦ç¾
â””â”€â”€ components/
    â””â”€â”€ UserManagement.vue # ğŸ‘ˆ Vue çµ„ä»¶ä½¿ç”¨

ğŸ’¡ ç‚ºä»€éº¼è¦åˆ†é›¢æª”æ¡ˆï¼Ÿ

1ï¸âƒ£ å‹åˆ¥é‡ç”¨ï¼š
   - user.ts å¯ä»¥è¢«å¤šå€‹çµ„ä»¶å°å…¥
   - ä¸€æ¬¡å®šç¾©ï¼Œè™•è™•ä½¿ç”¨

2ï¸âƒ£ ç¶­è­·æ€§ï¼š
   - ä¿®æ”¹ User ä»‹é¢æ™‚ï¼Œæ‰€æœ‰ä½¿ç”¨è™•è‡ªå‹•æª¢æŸ¥
   - TypeScript æœƒæç¤ºå“ªè£¡éœ€è¦æ›´æ–°

3ï¸âƒ£ åœ˜éšŠå”ä½œï¼š
   - å‰ç«¯é–‹ç™¼è€…å°ˆæ³¨çµ„ä»¶é‚è¼¯
   - å¾Œç«¯é–‹ç™¼è€…å¯åƒè€ƒå‹åˆ¥å®šç¾©
   - å‹åˆ¥å®šç¾©æˆç‚ºæºé€šæ©‹æ¨‘

4ï¸âƒ£ IDE æ”¯æ´ï¼š
   - å®Œæ•´çš„è‡ªå‹•å®Œæˆ
   - å³æ™‚éŒ¯èª¤æª¢æŸ¥
   - é‡æ§‹æ™‚çš„å®‰å…¨æ€§

ğŸš€ å¯¦éš›æ¸¬è©¦çµæœï¼š
- æˆåŠŸå‰µå»ºç¬¦åˆ User ä»‹é¢çš„ç‰©ä»¶
- TypeScript ç¢ºä¿æ‰€æœ‰å¿…éœ€å±¬æ€§å­˜åœ¨
- IDE æä¾›å®Œæ•´çš„å‹åˆ¥æç¤º

é€™å°±æ˜¯ç‚ºä»€éº¼æˆ‘å€‘ä¸æŠŠæ‰€æœ‰ç¨‹å¼ç¢¼å¯«åœ¨åŒä¸€å€‹æª”æ¡ˆï¼`

  } catch (error) {
    const errorMessage = error instanceof Error ? error.message : String(error)
    demoResult.value = `âŒ æ¼”ç¤ºå¤±æ•—ï¼š${errorMessage}

ğŸ”§ é€™æ­£å¥½èªªæ˜äº†å‹åˆ¥å®‰å…¨çš„é‡è¦æ€§ï¼`
  }
}

const runBaseService = async () => {
  demoResult.value = 'æ­£åœ¨æ¼”ç¤ºæ³›å‹åŸºç¤æœå‹™...'

  try {
    console.log('ğŸ—ï¸ æ¸¬è©¦æ³›å‹åŸºç¤æœå‹™')

    // å¯¦éš›æ¸¬è©¦æœå‹™
    const users = await userService.getAll()
    console.log('ğŸ“Š ç²å–åˆ°çš„ç”¨æˆ¶æ•¸é‡:', users.length)

    demoResult.value = `âœ… æ³›å‹åŸºç¤æœå‹™æ¼”ç¤ºå®Œæˆï¼

ğŸ¯ åŸºç¤æœå‹™çš„è¨­è¨ˆå„ªå‹¢ï¼š

ğŸ—ï¸ æ³›å‹è¨­è¨ˆï¼š
   - BaseApiService<User> è‡ªå‹•æä¾›å‹åˆ¥å®‰å…¨çš„ CRUD
   - ä¸€æ¬¡å¯¦ç¾ï¼Œå¤šè™•é‡ç”¨
   - æ¸›å°‘é‡è¤‡ä»£ç¢¼

ğŸ“ æª”æ¡ˆåˆ†é›¢æ•ˆæœï¼š
   - base.service.ts: é€šç”¨é‚è¼¯
   - user.service.ts: ç‰¹å®šæ¥­å‹™é‚è¼¯
   - çµ„ä»¶: ç´”ç²¹çš„ UI é‚è¼¯

ğŸ”§ å¯¦éš›æ¸¬è©¦çµæœï¼š
   - æˆåŠŸç²å– ${users.length} ä½ç”¨æˆ¶
   - æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯å‹åˆ¥å®‰å…¨çš„
   - æ””æˆªå™¨è‡ªå‹•è™•ç†è«‹æ±‚/éŸ¿æ‡‰

ğŸ’¡ é€™å°±æ˜¯ä¼æ¥­ç´šå°ˆæ¡ˆçš„æ¨™æº–æ¶æ§‹ï¼`

  } catch (error) {
    const errorMessage = error instanceof Error ? error.message : String(error)
    demoResult.value = `âŒ æœå‹™æ¸¬è©¦å¤±æ•—ï¼š${errorMessage}

é€™å±•ç¤ºäº†çµ±ä¸€éŒ¯èª¤è™•ç†çš„é‡è¦æ€§ï¼`
  }
}

const runUserService = async () => {
  demoResult.value = 'æ­£åœ¨æ¼”ç¤ºå…·é«”ç”¨æˆ¶æœå‹™...'

  try {
    console.log('ğŸ‘¤ æ¸¬è©¦ç”¨æˆ¶æœå‹™ç‰¹å®šåŠŸèƒ½')

    // æ¸¬è©¦æœå°‹åŠŸèƒ½
    const searchResults = await userService.searchUsers({ search: 'å¼µ' })
    console.log('ğŸ” æœå°‹çµæœ:', searchResults.users.length)

    // æ¸¬è©¦çµ±è¨ˆåŠŸèƒ½
    const stats = await userService.getUserStats()
    console.log('ğŸ“Š ç”¨æˆ¶çµ±è¨ˆ:', stats)

    demoResult.value = `âœ… ç”¨æˆ¶æœå‹™æ¼”ç¤ºå®Œæˆï¼

ğŸ¯ å…·é«”æœå‹™çš„æ¥­å‹™åƒ¹å€¼ï¼š

ğŸ‘¤ ç”¨æˆ¶ç‰¹å®šåŠŸèƒ½ï¼š
   - æœå°‹ç”¨æˆ¶: æ‰¾åˆ° ${searchResults.users.length} ç­†çµæœ
   - çµ±è¨ˆè³‡æ–™: ç¸½å…± ${stats.total} ä½ç”¨æˆ¶
   - éƒµç®±é©—è­‰: å…§å»ºé©—è­‰é‚è¼¯
   - è³‡æ–™æª¢æŸ¥: å‰µå»ºå‰è‡ªå‹•é©—è­‰

ğŸ“ æª”æ¡ˆåˆ†é›¢çš„å¯¦éš›æ•ˆæœï¼š
   âœ… å‹åˆ¥å¾ src/types/user.ts å°å…¥
   âœ… åŸºç¤åŠŸèƒ½å¾ BaseApiService ç¹¼æ‰¿
   âœ… æ¥­å‹™é‚è¼¯é›†ä¸­åœ¨ UserService
   âœ… çµ„ä»¶åªéœ€è¦é—œæ³¨ UI é‚è¼¯

ğŸ”„ ä»£ç¢¼é‡ç”¨ç¤ºä¾‹ï¼š
   - User å‹åˆ¥: å¤šå€‹çµ„ä»¶å…±ç”¨
   - åŸºç¤ CRUD: å…¶ä»–æœå‹™ä¹Ÿèƒ½ç¹¼æ‰¿
   - é©—è­‰é‚è¼¯: è¡¨å–®çµ„ä»¶å¯ç›´æ¥ä½¿ç”¨

ğŸ’¼ ä¼æ¥­ç´šé–‹ç™¼çš„å¯¦éš›å¥½è™•ï¼š
   - æ–°åœ˜éšŠæˆå“¡å¿«é€Ÿä¸Šæ‰‹
   - ç¨‹å¼ç¢¼å“è³ªæœ‰ä¿è­‰
   - ç¶­è­·æˆæœ¬å¤§å¹…é™ä½
   - åŠŸèƒ½æ“´å±•æ›´å®¹æ˜“

é€™å°±æ˜¯çœŸå¯¦å°ˆæ¡ˆä¸­ Vue + TypeScript çš„æœ€ä½³å¯¦è¸ï¼`

  } catch (error) {
    const errorMessage = error instanceof Error ? error.message : String(error)
    demoResult.value = `âŒ ç”¨æˆ¶æœå‹™æ¸¬è©¦å¤±æ•—ï¼š${errorMessage}`
  }
}

const testFileStructure = async () => {
  loading.value = true
  currentTest.value = 'structure'

  try {
    demoResult.value = `ğŸ—ï¸ æª”æ¡ˆåˆ†é›¢æ¶æ§‹è§£æ

ğŸ“ å®Œæ•´å°ˆæ¡ˆçµæ§‹ï¼š
src/
â”œâ”€â”€ types/           ğŸ‘ˆ å‹åˆ¥å®šç¾©ä¸­å¿ƒ
â”‚   â”œâ”€â”€ user.ts     # ç”¨æˆ¶ç›¸é—œå‹åˆ¥
â”‚   â”œâ”€â”€ api.ts      # API éŸ¿æ‡‰å‹åˆ¥
â”‚   â””â”€â”€ common.ts   # é€šç”¨å‹åˆ¥
â”œâ”€â”€ services/        ğŸ‘ˆ æ¥­å‹™é‚è¼¯ä¸­å¿ƒ
â”‚   â”œâ”€â”€ base.service.ts    # åŸºç¤æœå‹™é¡åˆ¥
â”‚   â”œâ”€â”€ user.service.ts    # ç”¨æˆ¶æœå‹™
â”‚   â””â”€â”€ product.service.ts # ç”¢å“æœå‹™
â””â”€â”€ components/      ğŸ‘ˆ UI é‚è¼¯ä¸­å¿ƒ
    â”œâ”€â”€ UserList.vue       # ç”¨æˆ¶åˆ—è¡¨çµ„ä»¶
    â””â”€â”€ UserForm.vue       # ç”¨æˆ¶è¡¨å–®çµ„ä»¶

ğŸ¯ æ¯å€‹æª”æ¡ˆçš„è·è²¬ï¼š

ğŸ“„ src/types/user.ts:
   âœ… å®šç¾©æ‰€æœ‰ç”¨æˆ¶ç›¸é—œä»‹é¢
   âœ… å¯è¢«å¤šå€‹çµ„ä»¶å’Œæœå‹™å°å…¥
   âœ… æˆç‚ºåœ˜éšŠæºé€šçš„æ¨™æº–

ğŸ—ï¸ src/services/base.service.ts:
   âœ… æä¾›æ³›å‹ CRUD æ“ä½œ
   âœ… HTTP æ””æˆªå™¨
   âœ… çµ±ä¸€éŒ¯èª¤è™•ç†

ğŸ‘¤ src/services/user.service.ts:
   âœ… ç¹¼æ‰¿åŸºç¤æœå‹™
   âœ… ç”¨æˆ¶ç‰¹å®šæ¥­å‹™é‚è¼¯
   âœ… å‹åˆ¥å®‰å…¨çš„æ–¹æ³•

ğŸ¨ src/components/UserManagement.vue:
   âœ… ç´”ç²¹çš„ UI é‚è¼¯
   âœ… å°å…¥éœ€è¦çš„å‹åˆ¥å’Œæœå‹™
   âœ… éŸ¿æ‡‰å¼ç‹€æ…‹ç®¡ç†

ğŸ’¼ å¯¦éš›é–‹ç™¼çš„å¥½è™•ï¼š
   - ä»£ç¢¼çµ„ç¹”æ¸…æ™°
   - è·è²¬åˆ†é›¢æ˜ç¢º
   - æ˜“æ–¼æ¸¬è©¦å’Œç¶­è­·
   - åœ˜éšŠå”ä½œé«˜æ•ˆ`

  } catch (error) {
    const errorMessage = error instanceof Error ? error.message : String(error)
    demoResult.value = `âŒ æ¸¬è©¦å¤±æ•—ï¼š${errorMessage}`
  } finally {
    loading.value = false
    currentTest.value = ''
  }
}

const testTypeImports = async () => {
  loading.value = true
  currentTest.value = 'imports'

  try {
    // æ¨¡æ“¬å‹åˆ¥å°å…¥æ¸¬è©¦
    await new Promise(resolve => setTimeout(resolve, 1000))

    demoResult.value = `ğŸ”— å‹åˆ¥å°å…¥æ¸¬è©¦çµæœ

âœ… æˆåŠŸå°å…¥å‹åˆ¥å®šç¾©ï¼š

ğŸ“„ å¾ @/types/user å°å…¥ï¼š
   - User ä»‹é¢
   - CreateUserRequest ä»‹é¢
   - UserStats ä»‹é¢
   - UserValidationResult ä»‹é¢

ğŸ—ï¸ å¾ @/services/user.service å°å…¥ï¼š
   - UserService é¡åˆ¥

ğŸ¯ å‹åˆ¥å®‰å…¨æª¢æŸ¥ï¼š
   âœ… æ‰€æœ‰è®Šæ•¸éƒ½æœ‰æ˜ç¢ºå‹åˆ¥
   âœ… æ–¹æ³•åƒæ•¸å‹åˆ¥æ­£ç¢º
   âœ… è¿”å›å€¼å‹åˆ¥å®‰å…¨
   âœ… IDE æä¾›å®Œæ•´æ™ºèƒ½æç¤º

ğŸ’¡ é€™å°±æ˜¯ TypeScript çš„å¨åŠ›ï¼š
   - ç·¨è­¯æ™‚å°±èƒ½ç™¼ç¾éŒ¯èª¤
   - é‡æ§‹æ™‚è‡ªå‹•æª¢æŸ¥å½±éŸ¿ç¯„åœ
   - åœ˜éšŠå”ä½œæ™‚çš„å‹åˆ¥å¥‘ç´„`

  } catch (error) {
    const errorMessage = error instanceof Error ? error.message : String(error)
    demoResult.value = `âŒ å‹åˆ¥å°å…¥æ¸¬è©¦å¤±æ•—ï¼š${errorMessage}`
  } finally {
    loading.value = false
    currentTest.value = ''
  }
}

const testServiceUsage = async () => {
  loading.value = true
  currentTest.value = 'service'

  try {
    // å¯¦éš›æ¸¬è©¦æœå‹™ä½¿ç”¨
    const users = await userService.getAll()
    const stats = await userService.getUserStats()

    demoResult.value = `ğŸš€ æœå‹™ä½¿ç”¨æ¸¬è©¦çµæœ

ğŸ“Š å¯¦éš› API èª¿ç”¨çµæœï¼š
   - ç²å–ç”¨æˆ¶æ•¸é‡ï¼š${users.length} ä½
   - æ´»èºç”¨æˆ¶ï¼š${stats.active} ä½
   - ç¸½ç”¨æˆ¶æ•¸ï¼š${stats.total} ä½

ğŸ”§ æœå‹™åŠŸèƒ½æ¸¬è©¦ï¼š
   âœ… åŸºç¤ CRUD æ“ä½œæ­£å¸¸
   âœ… æœå°‹åŠŸèƒ½é‹ä½œæ­£å¸¸
   âœ… çµ±è¨ˆåŠŸèƒ½è¨ˆç®—æ­£ç¢º
   âœ… éŒ¯èª¤è™•ç†æ©Ÿåˆ¶å®Œå–„

ğŸ“ æª”æ¡ˆåˆ†é›¢æ•ˆæœï¼š
   âœ… å‹åˆ¥å®šç¾©ï¼šsrc/types/user.ts
   âœ… åŸºç¤æœå‹™ï¼šsrc/services/base.service.ts
   âœ… ç”¨æˆ¶æœå‹™ï¼šsrc/services/user.service.ts
   âœ… Vue çµ„ä»¶ï¼šåªéœ€é—œæ³¨ UI é‚è¼¯

ğŸ¯ é€™å°±æ˜¯ç¾ä»£ TypeScript é–‹ç™¼çš„æ¨™æº–æ¨¡å¼ï¼`

  } catch (error) {
    const errorMessage = error instanceof Error ? error.message : String(error)
    demoResult.value = `âŒ æœå‹™æ¸¬è©¦å¤±æ•—ï¼š${errorMessage}

ä½†é€™æ­£å¥½å±•ç¤ºäº†çµ±ä¸€éŒ¯èª¤è™•ç†çš„é‡è¦æ€§ï¼`
  } finally {
    loading.value = false
    currentTest.value = ''
  }
}
</script>

<style scoped>
.section-content {
  padding: 2rem;
  max-width: 1200px;
  margin: 0 auto;
}

.section-header {
  margin-bottom: 3rem;
  text-align: center;
}

.section-header h2 {
  font-size: 2.5rem;
  font-weight: 700;
  color: #2d3748;
  margin-bottom: 1rem;
}

.section-description {
  font-size: 1.1rem;
  color: #4a5568;
  line-height: 1.6;
  max-width: 800px;
  margin: 0 auto;
}

.content-block {
  margin-bottom: 3rem;
  padding: 2rem;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.content-block h3 {
  font-size: 1.5rem;
  font-weight: 600;
  color: #2d3748;
  margin-bottom: 1.5rem;
}

.intro-card {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 2rem;
  border-radius: 12px;
  margin-bottom: 2rem;
}

.intro-card p {
  font-size: 1.1rem;
  line-height: 1.6;
  margin-bottom: 2rem;
}

.benefits-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
}

.benefit-item {
  background: rgba(255, 255, 255, 0.1);
  padding: 1.5rem;
  border-radius: 8px;
  text-align: center;
  transition: transform 0.2s ease;
}

.benefit-item:hover {
  transform: translateY(-2px);
}

.benefit-icon {
  font-size: 2.5rem;
  margin-bottom: 1rem;
}

.benefit-item h4 {
  font-size: 1.2rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.benefit-item p {
  font-size: 0.9rem;
  opacity: 0.9;
  margin: 0;
}

.architecture-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
}

.arch-item {
  background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
  color: white;
  padding: 1.5rem;
  border-radius: 8px;
  text-align: center;
  transition: transform 0.2s ease;
}

.arch-item:hover {
  transform: translateY(-2px);
}

.arch-icon {
  font-size: 2rem;
  margin-bottom: 0.5rem;
}

.arch-item h4 {
  margin: 0.5rem 0;
  font-size: 1rem;
  font-weight: 600;
}

.arch-item p {
  margin: 0.5rem 0;
  font-size: 0.875rem;
  opacity: 0.9;
}

.arch-item code {
  display: block;
  background: rgba(255, 255, 255, 0.2);
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  margin-top: 0.5rem;
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
}

.demo-section {
  background: #f7fafc;
  padding: 2rem;
  border-radius: 8px;
  border: 1px solid #e2e8f0;
}

.demo-buttons {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
  margin-bottom: 1.5rem;
}

.demo-btn {
  padding: 0.75rem 1.5rem;
  background: #4299e1;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 500;
  transition: all 0.2s;
}

.demo-btn:hover:not(:disabled) {
  background: #3182ce;
  transform: translateY(-1px);
}

.demo-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

.demo-result {
  background: #2d3748;
  color: #e2e8f0;
  padding: 1.5rem;
  border-radius: 6px;
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
}

.demo-result h5 {
  color: #90cdf4;
  margin-bottom: 0.5rem;
  font-family: inherit;
}

.demo-result pre {
  margin: 0;
  white-space: pre-wrap;
  word-break: break-word;
  line-height: 1.6;
}

.benefits-comparison {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
}

.comparison-item {
  padding: 1.5rem;
  border-radius: 8px;
}

.comparison-item.bad {
  background: #fed7d7;
  border: 1px solid #f56565;
}

.comparison-item.good {
  background: #c6f6d5;
  border: 1px solid #48bb78;
}

.comparison-item h4 {
  margin-bottom: 1rem;
  font-weight: 600;
}

.comparison-item.bad h4 {
  color: #c53030;
}

.comparison-item.good h4 {
  color: #2f855a;
}

.comparison-item ul {
  margin: 0;
  padding-left: 1.5rem;
}

.comparison-item li {
  margin-bottom: 0.5rem;
  line-height: 1.5;
}

.comparison-item.bad li {
  color: #742a2a;
}

.comparison-item.good li {
  color: #22543d;
}

@media (max-width: 768px) {
  .section-content {
    padding: 1rem;
  }

  .section-header h2 {
    font-size: 2rem;
  }

  .architecture-grid {
    grid-template-columns: 1fr;
  }

  .demo-buttons {
    flex-direction: column;
  }

  .demo-btn {
    width: 100%;
  }

  .benefits-comparison {
    grid-template-columns: 1fr;
  }
}
</style>
